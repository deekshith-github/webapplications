{% import "components/form/fields_macros.html.twig" as fields %}

{% set bg = "" %}
{% if item.isDeleted() %}
    {% set bg = "asset-deleted" %}
{% endif %}

    {% set rand = random() %}
    {% set params  = params ?? [] %}
    {% set target       = params['target'] ?? item.getFormURL() %}
    {% set withtemplate = params['withtemplate'] ?? "" %}
    {% set item_type = item.getType() %}


{{ fields.largeTitle(__('Flux')) }}

{% if item.isField('name') %}
    {{ fields.autoNameField(
        'name',
        item,
        __('Name', 'webapplications'),
        withtemplate
    ) }}
{% endif %}

{% if item.isField('transmitter') %}
    {{ fields.autoNameField(
        'transmitter',
        item,
        __('Transmitter', 'webapplications'),
        withtemplate
    ) }}
{% endif %}

{% if item.isField('receiver') %}
    {{ fields.autoNameField(
        'receiver',
        item,
        __('Receiver', 'webapplications'),
        withtemplate
    ) }}
{% endif %}

{% if item.isField('encryption') %}
    {{ fields.dropdownYesNo(
        "encryption",
        item.fields['encryption'],
        "encryption"|itemtype_name,
    ) }}
{% endif %}

{% if item.isField('encryptiontype') %}
    {{ fields.autoNameField(
        'encryptiontype',
        item,
        __('Encryption type', 'webapplications'),
        withtemplate
    ) }}
{% endif %}

{% if item.isField('ports') %}
    {{ fields.autoNameField(
        'ports',
        item,
        __('Ports', 'webapplications'),
        withtemplate
    ) }}
{% endif %}

{% if item.isField('protocole') %}
    {{ fields.autoNameField(
        'protocole',
        item,
        __('Protocole', 'webapplications'),
        withtemplate
    ) }}
{% endif %}


